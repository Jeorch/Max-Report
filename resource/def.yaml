models:
- Marketdimension
- Productdimension
- Prod_etc
- Market
- City
- Product
- OverallInfo
- SampleCover
- SalesRecord

storages:
- name: BmMarketdimensionStorage
  method: NewMarketdimensionStorage
  daemons:
  - BmMongodbDaemon
- name: BmProductdimensionStorage
  method: NewProductdimensionStorage
  daemons:
  - BmMongodbDaemon
- name: BmProd_etcStorage
  method: NewProd_etcStorage
  daemons:
  - BmMongodbDaemon
- name: BmMarketStorage
  method: NewMarketStorage
  daemons:
  - BmMongodbDaemon
- name: BmCityStorage
  method: NewCityStorage
  daemons:
  - BmMongodbDaemon
- name: BmProductStorage
  method: NewProductStorage
  daemons:
  - BmMongodbDaemon
- name: BmOverallInfoStorage
  method: NewOverallInfoStorage
  daemons:
  - BmMongodbDaemon
- name: BmSampleCoverStorage
  method: NewSampleCoverStorage
  daemons:
  - BmMongodbDaemon
- name: BmSalesRecordStorage
  method: NewSalesRecordStorage
  daemons:
  - BmMongodbDaemon

resources:
- name: BmMarketdimensionResource
  method: NewMarketdimensionResource
  storages:
  - BmMarketdimensionStorage
- name: BmProductdimensionResource
  method: NewProductdimensionResource
  storages:
  - BmProductdimensionStorage
  - BmProd_etcStorage
- name: BmMarketResource
  method: NewMarketResource
  storages:
  - BmMarketStorage
- name: BmOverallInfoResource
  method: NewOverallInfoResource
  storages:
  - BmOverallInfoStorage
- name: BmSampleCoverResource
  method: NewSampleCoverResource
  storages:
  - BmCityStorage
  - BmSampleCoverStorage
- name: BmSalesRecordResource
  method: NewSalesRecordResource
  storages:
  - BmCityStorage
  - BmProductStorage
  - BmSalesRecordStorage

services:
- name: bm-marketdimension
  model: BmMarketdimension
  resource: BmMarketdimensionResource
- name: bm-productdimension
  model: BmProductdimension
  resource: BmProductdimensionResource
- name: bm-market
  model: BmMarket
  resource: BmMarketResource
- name: bm-overallInfo
  model: BmOverallInfo
  resource: BmOverallInfoResource
- name: bm-sampleCover
  model: BmSampleCover
  resource: BmSampleCoverResource
- name: bm-salesRecord
  model: BmSalesRecord
  resource: BmSalesRecordResource

functions:
# - name: BmUserAgentHandler
#   create: NewUserAgentHandler
#   daemons:
#   - BmMongodbDaemon
#   method: GenerateUserAgent
#   http: GET
#   args:
#   - name
# - name: BmGenerateAccessTokenHandler
#   create: NewBmGenerateAccessTokenHandler
#   daemons:
#   - BmMongodbDaemon
#   method: GenerateAccessToken
#   http: GET
#   args:
#   - name
# - name: BmRefreshAccessTokenHandler
#   create: NewRefreshAccessTokenHandler
#   daemons:
#   - BmMongodbDaemon
#   method: RefreshAccessToken
#   http: GET
#   args:
#   - name

middlewares:
# - name: BmCheckTokenMiddleware
#   create: NewCheckTokenMiddleware
#   daemons:
#   - BmRedisDaemon
#   args:
#   - 192.168.100.116:9096

panic:
  name: BmCommonPanicHandle
  create: NewCommonPanicHandle

daemons:
- name: BmMongodbDaemon
  method: NewMongoDBDaemon
  args:
    host: 123.56.179.133
    port: 5555
#    host: primary
#    port: 27017
    database: pharbers-max-repository
- name: BmRedisDaemon
  method: NewRedisDBDaemon
  args:
    host: redis
    port: 6379
    password:
    database: 0